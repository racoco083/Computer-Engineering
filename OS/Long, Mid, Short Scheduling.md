## 장기 스케줄링(Long-term scheduler)

장기 스케줄러는 작업 스케줄러(job scheduler)라고도 부르며, 어떤 프로세스를 준비 큐(메모리에 존재)에 삽입할지를 결정하는 역할을 한다.
준비 큐는 CPU만 얻으면 당장 실행될 수 있는 프로세스의 집합이고, CPU에서 실행되기 위해서는 프로세스가 메모리를 보유해야
하므로 장기 스케줄러는 프로세스에게 메모리를 할당하는 문제에 관여하게 된다. 처음 프로세스가 생성되면 시작 상태를 거쳐 준비
상태에 이르게 되는데 장기 스케줄러는 시작 상태의 프로세스들 중 어떤한 프로세스를 준비 큐에 삽입할 것인지를 결정하는 역할을 
하게 된다. 메인 메모리에 있는 프로세스의 양을 판단하고 결정하는 역할도 하며 만약 메인 메모리에 적재된 프로세스들이 너무 많아 실행이 
빈번하게 발생되고 메인 메모리에 프로세스들이 넘쳐나면 더 이상 프로세스들을 메인 메모리에
적재 시키지 않는다. => 멀티 프로그래밍의 정도를 결정

## 중기 스케줄링(Mid-term scheduler)

현재의 시분할 시스템용 운영 체제에서는 장기 스케줄러 대신에 중기 스케줄러를 두는 경우가 많다. 중기 스케줄러는 너무 많은
프로세스에게 메모리를 할당해 시스템의 성능이 저하되는 경우 이를 해결하기 위해 메모리에 적재된 프로세스의 수를 동적으로
조절하기 위해 추가된 스케줄러이다. 만약 너무 많은 프로세스가 메모리에 적재되어 프로세스당 보유하고 있는 메모리량이 극도로
적어지게 되면 CPU 수행에 당장 필요한 프로세스의 주소 공간조차도 메모리에 올려놓기 어려운 상황이 발생하게 된다. 그렇게 되면
디스크 입출력이 수시로 발생하게 되어 시스템의 성능이 심각하게 저하될 수 있다. 중기 스케줄러는 이런 경우 메모리에 올라와 있는
프로세스 중 일부를 선정해 이들로부터 메모리를 통째로 빼앗아 그 내용을 디스크의 스왑 영역에 저장해 둔다. 이와 같은 행위를
스왑 아웃(swap out)이라고 부른다. 즉, 중기 스케줄러는 프로세스당 보유 메모리량이 지나치게 적어진 경우 이를 완화시키기 위해
일부 프로세스를 메모리에서 디스크로 스왑 아웃시키는 역할을 수행한다.

중기 스케줄러가 일부 프로세스를 메모리에서 디스크로 스왑 아웃 시켜야 하는 경우 그 0순위인 프로세스는 봉쇄 상태에 있는 프로세스
들이다. 이는 봉쇄 상태인 프로세스들의 경우 당장 CPU를 획득할 가능성이 없기 때문에 메모리를 보유하고 있는 것 또한 큰 의미가 없기
때문이다. 봉쇄 상태인 프로세스를 모두 스왑 아웃시킨 후에도 메모리 공간이 부족한 경우 중기 스케줄러는 보통 타이머 인터럽트가 발생해
준비 큐로 이동하는 프로세스를 추가적으로 스왑 아웃시킨다. 준비 큐에 너무 많은 프로세스들이 존재하면 개별 프로세스에 배당된
메모리량이 지나치게 적어질 뿐 아니라 CPU를 한 번 할당받은 후 다시 할당 받기까지 오랜 시간이 소요되기 때문에 이들 프로세스로부터
메모리를 회수해 당장 실행하게 될 프로세스에게 메모리를 추가로 부여하는 것이 더 효율적이기 때문이다. 중기 스케줄러는 이러한 방식을
통해 장기 스케줄러와 마찬가지로 메모리에 올라와 있는 프로세스의 수를 조정하는 역할을 수행하게 된다.

중기 스케줄러의 등장으로 인해 프로세스의 상태는 실행, 준비, 봉쇄 외에 하나의 상태가 더 추가된다.
외부적인 이유로 프로세스의 수행이 정지된 상태를 나타내는 중지(suspended, stopped)상태가 그것이다.
중비 상태에 있는 프로세스는 외부에서 재개시키지 않는 이상 다시 활성화될 수 없으므로 메모리 자원이 당잔 필요하지 않다.
따라서, 중지 상태의 프로세스는 메모리를 통째로 빼앗기고 디스크로 스왑 아웃된다. 중지 스케줄러에 의해 스왑 아웃된 프로세스의 상태가
대표적인 중지(suspended) 상태의 예라 할 수 있다. 중지 상태는 중지 준비 상태와 중지 봉쇄 상태로 세분화할 수 있다. 준비 상태에 있던
프로세스가 중기 스케줄러에 의해 디스크로 스왑 아웃되면 이 프로세스의 상태는 중지 준비(suspended ready) 상태가 된다. 이에 비해
봉쇄(block) 상태에 있던 프로세스가 중기 스케줄러에 의해 스왑 아웃되면 이 프로세스의 상태는 중지 봉쇄(suspended block) 상태가 된다.
중지 봉쇄 상태이던 프로세스가 봉쇄되었던 조건을 만족하게 되면 이 프로세스의 상태는 중지 준비 상태로 바뀌게 된다.
중지 상태에 있는 프로세스들은 중지 준비 상태이든 중지 봉쇄 상태이든 관계 없이 메모리를 조금도 보유하지 않고 디스크에 통째로 스왑
아웃된 상태로 존재하게 된다.

![image](https://user-images.githubusercontent.com/21019088/56453508-613e1b00-637e-11e9-82b6-d75e14cfef8e.png)

## 단기 스케줄링(Short-term scheduler) 

CPU 스케줄러라고도 하며, 준비 상태의 프로세스 중에서 어떤 프로세스를 다음 번에 실행 상태로 만들 것인지를
결정한다. 다시 말하면 준비 큐에 있는 여러 프로세스들 중에 어떤한 프로세스에게 CPU를 할당할 것인가를 단시 스케줄러가 결정하게 된다.
시분할(time sharing) 시스템에서는 타이머 인터럽트가 발생하면 단기 스케줄러가 호출된다.

## 장기 스케줄링과 중기 스케줄링의 차이

장기 스케줄링은 디스크에 있는 내용을 메모리에 올리는 역할을 하지만 중기 스케줄링은 메모리에 올라와 있는 프로세스의 일부를 디스크에
보내 메모리의 공간을 확보하는 역할도 한다.

![image](https://user-images.githubusercontent.com/21019088/56453501-44094c80-637e-11e9-9a89-f1425ee34de0.png)

## Referece
https://books.google.co.kr/books?id=EcMqBh5MDQIC&pg=PA135&lpg=PA135&dq=%EC%A4%91%EA%B8%B0+%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC&source=bl&ots=UPlSGumdc5&sig=ACfU3U3qv5Ov2eCUZ1n38uWJXt6SkAQ3IQ&hl=ko&sa=X&ved=2ahUKEwify9n-4d3hAhUrG6YKHS81DKwQ6AEwBnoECAkQAQ#v=onepage&q&f=false

